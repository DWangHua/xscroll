<html>
<head>
  <title>[Demo] Tab</title>
  <meta charset="utf-8">
  <meta name="description" content="XScroll, a JavaScript scrolling framework for mobile web">
  <meta name="keywords" content="JavaScript, mobile, scroll, frontend, web development, framework">
  <meta name="author" content="TaobaoUED">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta content="telephone=no,email=no" name="format-detection" />
<link rel="stylesheet" type="text/css" href="../tab/tab.css">
<style type="text/css">
  .slidelist-itemcell{
    line-height: 3rem;
    height: 3rem;
    border:1px solid;
    width: 100%;
    font-size: 12px;
  }
  .slidelist-container{
    position: absolute;
    top:2.2rem;
    bottom: 0;
    left:0;
    right: 0;
    overflow-x: scroll;
    overflow-y:hidden;
  }
  .slidelist-container .xs-container{
    height: 100%;
    position: absolute;
    width: 100%;
  }
  .slidelist-container .xs-content{
    position: absolute;
    white-space: nowrap;
    font-size: 0;
    top:0;
    bottom: 0;
    width: 100%;
  }
  .slidelist-item{
    font-size: 12px;
    width: 16rem;
    display: inline-block;
    position: absolute;
    top:0;
    bottom: 0;
    border:1px solid;
  }
</style>
</head>
<body>
  <div class="xtab-container"  id="J_Tab">
  <div class="xtab-nav-container">
    <div class="xs-container">
      <ul class="xs-content">
        <li class="xtab-item active">全部</li>
        <li class="xtab-item">服装服饰</li>
        <li class="xtab-item">箱包手袋</li>
        <li class="xtab-item">时尚鞋履</li>
        <li class="xtab-item">美妆护肤</li>
        <li class="xtab-item">数码家电</li>
        <li class="xtab-item">母婴家居</li>
        <li class="xtab-item">食品保健</li>
        <li class="xtab-item">珠宝手表</li>
        <li class="xtab-item">服装服饰</li>
        <li class="xtab-item">箱包手袋</li>
        <li class="xtab-item">时尚鞋履</li>
        <li class="xtab-item">美妆护肤</li>
        <li class="xtab-item">数码家电</li>
        <li class="xtab-item">母婴家居</li>
        <li class="xtab-item">食品保健</li>
        <li class="xtab-item">珠宝手表</li>
      </ul>
    </div>
  </div>
  <div class="xtab-btn-slide"></div>
</div>


<div class="slidelist-container" id="J_SlideList">
  <div class="xs-container">
    <div class="xs-content">
      <div class="slidelist-item">
        <ul>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
        </ul>
      </div>
      <div class="slidelist-item">
        <ul>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
        </ul>
      </div>
      <div class="slidelist-item">
        <ul>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
          <li class="slidelist-itemcell">row</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="../../../lib/sea.js"></script>
<script type="text/javascript">
  seajs.config({
  base: "../../../",
  map: [
    [".js", ".js?" + new Date().getTime()]
  ]
})

seajs.use(["biz-demo/widgets/tab/tab", "biz-demo/widgets/slidelist/slidelist"], function(Tab, SlideList) {

  function mockData() {
    var data = [];
    var len = document.querySelectorAll(".xtab-item").length;
    for (var i = 0; i < len; i++) {
      var pageData = [];
      for (var j = 0; j < 100; j++) {
        pageData.push({
          data: {
            num: j,
            cat: i
          },
          style: {
            height: 60
          }
        })
      }
      data.push(pageData);
    }
    return data;
  }
  var tab = new Tab({
    renderTo: "#J_Tab"
  });
  tab.render();



  var list = window.list = new SlideList({
    renderTo: "#J_SlideList",
    data: mockData()
  });
  list.render();
  list.switchTo(0);
  tab.on("switchchange",function(e){
    list.switchTo(e.curIndex);
  })

  list.on("switchchange",function(e){
    tab.switchTo(e.index)
  })
});
</script>
</body>
</html>