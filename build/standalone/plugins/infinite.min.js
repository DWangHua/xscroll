!function(){var t={},e={},n={},i={};t=function(t){function e(){}function n(t,n){var i;return Object.create?i=Object.create(t):(e.prototype=t,i=new e),i.constructor=n,i}function i(t,e){if(t){if(t.nodeType)return[t];var e=e&&e.nodeType?e:document;return t&&"string"==typeof t?e.querySelectorAll(t):void 0}}for(var r=/\\?\{([^{}]+)\}/g,s="",o=/^[\s\xa0]+|[\s\xa0]+$/g,l=String.prototype.trim,a=0,c=function(t){var e=t.offsetTop;return null!=t.offsetParent&&(e+=c(t.offsetParent)),e},u=function(t){var e=t.offsetLeft;return null!=t.offsetParent&&(e+=u(t.offsetParent)),e},f=({isObject:function(t){return t===Object(t)},isArray:Array.isArray||function(t){return"[object Array]"==toString.call(t)},isEmpty:function(t){if(null==t)return!0;if(this.isArray(t)||this.isString(t))return 0===t.length;for(var e in t)if(this.has(t,e))return!1;return!0},mix:function(t,e,n){for(var i in e)t[i]=e[i];return t},extend:function(t,e,i,r){if(!e||!t)return t;var s,o=e.prototype;return s=n(o,t),t.prototype=this.mix(s,t.prototype),t.superclass=n(o,e),i&&this.mix(s,i),r&&this.mix(t,r),t},startsWith:function(t,e){return 0===t.lastIndexOf(e,0)},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n},trim:l?function(t){return null==t?s:l.call(t)}:function(t){return null==t?s:(t+"").replace(o,s)},substitute:function(t,e,n){return"string"==typeof t&&e?t.replace(n||r,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?s:e[n]}):t},vendor:function(){for(var t,e=document.createElement("div").style,n=["t","webkitT","MozT","msT","OT"],i=0,r=n.length;r>i;i++)if(t=n[i]+"ransform",t in e)return n[i].substr(0,n[i].length-1);return!1}(),prefixStyle:function(t){return this.vendor===!1?!1:""===this.vendor?t:this.vendor+t.charAt(0).toUpperCase()+t.substr(1)},hasClass:function(t,e){return t&&t.className&&e&&-1!=t.className.indexOf(e)},addClass:function(t,e){t&&e&&!this.hasClass(t,e)&&(t.className+=" "+e)},removeClass:function(t,e){t&&t.className&&e&&(t.className=t.className.replace(e,""))},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},getOffsetTop:c,getOffsetLeft:u,findParentEl:function(t,e,n){var i=null,r=null,s=e.replace(/\.|#/g,"");if(n&&"string"==typeof n&&(n=document.querySelector(n)),n=n||document.body,t&&e){if(t.className&&t.className.match(s))return t;for(;!i&&r!=n&&(r=t.parentNode);){if(r.className&&r.className.match(s))return i=r;t=r}return null}},guid:function(t){var e=++a+"";return t?t+e:e},isAndroid:function(){return/Android /.test(window.navigator.appVersion)},isBadAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},px2Num:function(t){return Number(t.replace(/px/,""))},getNodes:i,getNode:function(t,e){var n=i(t,e);return n&&n[0]},stringifyStyle:function(t){var e="";for(var n in t)e+=[n,":",t[n],";"].join("");return e}}),d=["Arguments","Function","String","Number","Date","RegExp"],h=0;h<d.length;h++)f["is"+d[h]]=function(t){return toString.call(t)=="[object "+d[h]+"]"};return"object"==typeof module&&module.exports?t=f:f}(t),e=function(e){var n=t,i=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},r={on:function(t,e,n){if(!o(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!o(this,"once",t,[e,n])||!e)return this;var r=this,s=i(function(){r.off(t,s),e.apply(this,arguments)});return s._callback=e,this.on(t,s,n)},off:function(t,e,n){if(!this._events||!o(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(var i=t?[t]:Object.keys(this._events),r=0,s=i.length;s>r;r++){t=i[r];var l=this._events[t];if(l)if(e||n){for(var a=[],c=0,u=l.length;u>c;c++){var f=l[c];(e&&e!==f.callback&&e!==f.callback._callback||n&&n!==f.context)&&a.push(f)}a.length?this._events[t]=a:delete this._events[t]}else delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=Array.prototype.slice.call(arguments,1);if(!o(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&l(n,e),i&&l(i,arguments),this},listenTo:function(t,e,i){var r=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=n.guid("l"));return r[s]=t,i||"object"!=typeof e||(i=this),t.on(e,i,this),this},listenToOnce:function(t,e,n){if("object"==typeof e){for(var r in e)this.listenToOnce(t,r,e[r]);return this}var s=i(function(){this.stopListening(t,e,s),n.apply(this,arguments)});return s._callback=n,this.listenTo(t,e,s)},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var s=!e&&!i;i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t);for(var o in r)t=r[o],t.off(e,i,this),(s||n.isEmpty(t._events))&&delete this._listeningTo[o];return this}},s=/\s+/,o=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(s.test(n)){for(var o=n.split(s),l=0,a=o.length;a>l;l++)t[e].apply(t,[o[l]].concat(i));return!1}return!0},l=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],l=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,l);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};return r.bind=r.on,r.unbind=r.off,"object"==typeof module&&module.exports?e=r:r}(e),n=function(n){var i=t,r=e,s=function(){};return i.mix(s.prototype,r),i.mix(s.prototype,{plug:function(t){var e=this;if(t&&t.pluginId){e.__plugins||(e.__plugins=[]);var n=e.getPlugin(t.pluginId);return n&&e.unplug(t.pluginId),t.pluginInitializer(e),e.__plugins.push(t),e}},unplug:function(t){var e=this;if(t&&e.__plugins){var n="string"==typeof t?e.getPlugin(t):t;n.pluginDestructor(e);for(var i=0,r=e.__plugins.length;r>i;i++)if(e.__plugins[i]==n)return e.__plugins.splice(i,1)}},getPlugin:function(t){var e=this,n=[];if(e.__plugins){for(var i=0,r=e.__plugins.length;r>i;i++)e.__plugins[i]&&e.__plugins[i].pluginId==t&&n.push(e.__plugins[i]);return n.length>1?n:n[0]||null}}}),"object"==typeof module&&module.exports?n=s:s}(n),i=function(e){var i=t,r=n,s=i.prefixStyle("transform"),o=i.prefixStyle("transition"),l=function(t){l.superclass.constructor.call(this,t),this.userConfig=i.mix({transition:"all 0.5s ease"},t)};if(i.extend(l,r,{pluginId:"infinite",visibleElements:{},sections:{},pluginInitializer:function(t){var e=this;return e.xscroll=t,e.isY=!("y"!=t.userConfig.zoomType),e._={_top:e.isY?"_top":"_left",_height:e.isY?"_height":"_width",top:e.isY?"top":"left",height:e.isY?"height":"width",width:e.isY?"width":"height",y:e.isY?"y":"x",translate:e.isY?"translateY":"translateX",containerHeight:e.isY?"containerHeight":"containerWidth",scrollTop:e.isY?"scrollTop":"scrollLeft"},e._initInfinite(),t.on("afterrender",function(){e.render(),e._bindEvt()}),e},pluginDestructor:function(){for(var t=this,e=t._,n=0;n<t.infiniteLength;n++)t.infiniteElements[n].style[e.top]="auto",t.infiniteElements[n].style[s]="none";return t.xscroll&&t.xscroll.off("scroll",t._updateByScroll,t),t.xscroll&&t.xscroll.off("tap panstart pan panend",t._cellEventsHandler,t),t},_initInfinite:function(){var t=this,e=t.xscroll,n=t._;return t.sections={},t.infiniteElements=e.renderTo.querySelectorAll(t.userConfig.infiniteElements),t.infiniteLength=t.infiniteElements.length,t.infiniteElementsCache=function(){for(var e=[],r=0;r<t.infiniteLength;r++)e.push({}),t.infiniteElements[r].style.position="absolute",t.infiniteElements[r].style[n.top]=0,t.infiniteElements[r].style.visibility="hidden",t.infiniteElements[r].style.display="block",i.addClass(t.infiniteElements[r],"_xs_infinite_elements_");return e}(),t.elementsPos={},e.on("scroll",t._updateByScroll,t),t},_renderUnRecycledEl:function(){var t=this,e=t._,n=t.userConfig.gpuAcceleration?" translateZ(0) ":"";for(var r in t.__serializedData){var o=t.__serializedData[r];if(t.__serializedData[r].recycled===!1){var l=o.id&&document.getElementById(o.id.replace("#",""))||document.createElement("div"),a=i.guid("xs-row-");l.id=o.id||a,o.id=l.id,t.xscroll.content.appendChild(l);for(var c in o.style)c!=e.height&&"display"!=c&&"position"!=c&&(l.style[c]=o.style[c]);l.style[e.top]=0,l.style.position="absolute",l.style.display="block",l.style[e.height]=o[e._height]+"px",l.style[s]=e.translate+"("+o[e._top]+"px) "+n,i.addClass(l,o.className),t.userConfig.renderHook.call(t,l,o)}}},render:function(){var t=this,e=t._,n=t.xscroll,i=t.isY?n.getScrollTop():n.getScrollLeft();t.visibleElements=t.getVisibleElements(i),t.__serializedData=t._computeDomPositions(),n.sticky&&n.sticky.render(!0),n.fixed&&n.fixed.render();var r=n[e.height],s=t._containerSize;return r>s&&(s=r),n[e.containerHeight]=s,n.container.style[e.height]=s+"px",n.content.style[e.height]=s+"px",t._renderUnRecycledEl(),t._updateByScroll(),t._updateByRender(i),t.xscroll.boundryCheck(),t},_getChangedRows:function(t){var e=this,n={};for(var i in e.elementsPos)t.hasOwnProperty(i)||(n[i]="delete");for(var i in t)t[i].recycled&&!e.elementsPos.hasOwnProperty(i)&&(n[i]="add");return e.elementsPos=t,n},_updateByScroll:function(t){var e=this,n=e.xscroll,i=e._,r=t&&t[i.scrollTop],s=void 0===r?e.isY?n.getScrollTop():n.getScrollLeft():r,o=e.getVisibleElements(s),l=e.changedRows=e._getChangedRows(o);for(var a in l)if("delete"==l[a]&&e._pushEl(a),"add"==l[a]){var c=e._popEl(o[a][e.guid]),u=c.index,f=c.el;f&&(e.infiniteElementsCache[u].guid=o[a].guid,e.__serializedData[o[a].guid].__infiniteIndex=u,e._renderData(f,o[a]),e._renderStyle(f,o[a]))}return e},_updateByRender:function(t){var e,n,i=this,r=i._,s=i.xscroll,t=void 0===t?i.isY?s.getScrollTop():s.getScrollLeft():t,o=i.visibleElements,l=i.getVisibleElements(t);for(var a in l){n=l[a];for(var c in o)if(e=o[c],e.guid===n.guid)(n.style!=e.style||n[r._top]!=e[r._top]||n[r._height]!=e[r._height])&&i._renderStyle(i.infiniteElements[n.__infiniteIndex],n,!0),JSON.stringify(n.data)!=JSON.stringify(e.data)&&i._renderData(i.infiniteElements[n.__infiniteIndex],n);else if(i.__serializedData[n.guid].recycled&&void 0===i.__serializedData[n.guid].__infiniteIndex){var u=i._popEl();i.__serializedData[n.guid].__infiniteIndex=u.index,i._renderData(u.el,n),i._renderStyle(u.el,n)}}i.visibleElements=l},_computeDomPositions:function(){var t,e=this,n=e._,r=0,s=0,o=e.sections,l=[],a={};for(var c in o)for(var u=0,f=o[c].length;f>u;u++)t=o[c][u],t.sectionId=c,t.index=u,l.push(t);e.userConfig.maxSpeed=3;for(var c=0,d=l.length;d>c;c++){var h=l[c];s=h.style&&h.style[n.height]>=0&&"fixed"!=h.style.position?h.style[n.height]:0,h.guid=h.guid||i.guid(),h[n._top]=r,h[n._height]=s,h.recycled=h.recycled===!1?!1:!0,r+=s,a[h.guid]=h}return e._containerSize=r,a},getVisibleElements:function(t){var e,n=this,i=n.xscroll,r=n._,t=void 0===t?n.isY?i.getScrollTop():i.getScrollLeft():t,s=n.userConfig.threshold>=0?n.userConfig.threshold:i[r.height]/3,o={},l=n.__serializedData;for(var a in l)e=l[a],e[r._top]>=t-s&&e[r._top]<=t+i[r.height]+s&&(o[e.guid]=e);return JSON.parse(JSON.stringify(o))},_popEl:function(){for(var t=this,e=0;e<t.infiniteLength;e++)if(!t.infiniteElementsCache[e]._visible)return t.infiniteElementsCache[e]._visible=!0,{index:e,el:t.infiniteElements[e]}},_pushEl:function(t){for(var e=this,n=0;n<e.infiniteLength;n++)e.infiniteElementsCache[n].guid==t&&(e.infiniteElementsCache[n]._visible=!1,e.infiniteElements[n].style.visibility="hidden",e.infiniteElementsCache[n].guid=null)},_renderData:function(t,e){var n=this;t&&e&&"fixed"!=e.style.position&&n.userConfig.renderHook.call(n,t,e)},_renderStyle:function(t,e,n){var i=this,r=i._;if(t){var l=i.xscroll.userConfig.gpuAcceleration?" translateZ(0) ":"";for(var a in e.style)a!=r.height&&"display"!=a&&"position"!=a&&(t.style[a]=e.style[a]);t.setAttribute("xs-index",e.index),t.setAttribute("xs-sectionid",e.sectionId),t.setAttribute("xs-guid",e.guid),t.style.visibility="visible",t.style[r.height]=e[r._height]+"px",t.style[s]=r.translate+"("+e[r._top]+"px) "+l,t.style[o]=n?i.userConfig.transition:"none"}},getCell:function(t){var e=this,n=i.findParentEl(t.target,"._xs_infinite_elements_",e.xscroll.renderTo);n||(n=i.findParentEl(t.target,".xs-sticky-handler",e.xscroll.renderTo));var r=n&&n.getAttribute("xs-guid");return void 0!==r?{data:e.__serializedData[r],el:n}:void 0},_bindEvt:function(){var t=this;if(!t._isEvtBinded)return t._isEvtBinded=!0,t.xscroll.renderTo.addEventListener("webkitTransitionEnd",function(t){t.target.className.match(/xs-row/)&&(t.target.style.webkitTransition="")}),t.xscroll.on("tap panstart pan panend",t._cellEventsHandler,t),t},_cellEventsHandler:function(t){var e=this,n=e.getCell(t);t.cell=n.data,t.cellEl=n.el,t.cell&&e[t.type].call(e,t)},tap:function(t){return this.trigger("tap",t),this},panstart:function(t){return this.trigger("panstart",t),this},pan:function(t){return this.trigger("pan",t),this},panend:function(t){return this.trigger("panend",t),this},insertBefore:function(t,e,n){var i=this;return void 0===t||void 0===e||void 0===n?i:(i.sections[t]||(i.sections[t]=[]),i.sections[t].splice(e,0,n),i)},insertAfter:function(t,e,n){var i=this;return void 0===t||void 0===e||void 0===n?i:(i.sections[t]||(i.sections[t]=[]),i.sections[t].splice(Number(e)+1,0,n),i)},append:function(t,e){var n=this;return n.sections[t]||(n.sections[t]=[]),n.sections[t]=n.sections[t].concat(e),n},remove:function(t,e,n){var i=this,n=n||1;return void 0!==t&&i.sections[t]?void 0===e?(i.sections[t]=null,i):i.sections[t]&&i.sections[t][e]?(i.sections[t].splice(e,n),i):i:i},replace:function(t,e,n){var i=this;return void 0!==t&&i.sections[t]?(i.sections[t][e]=n,i):i},get:function(t,e){return void 0!==t?void 0===e?this.sections[t]:this.sections[t][e]:void 0}}),"object"==typeof module&&module.exports)e=l;else if(window.XScroll&&window.XScroll.Plugins)return XScroll.Plugins.Infinite=l;return e}(i)}();