define(function(e,t,i){"use strict";var s=e("../util"),n=e("../base"),o=(s.prefixStyle("transform"),function(e){o.superclass.constructor.call(this,e),this.userConfig=s.mix({renderTo:void 0,fixedElements:".xs-fixed",zoomType:"y"},e),this.init()});return s.extend(o,n,{fixedElements:[],init:function(){{var e=this,t=e.userConfig,i=e.xscroll=t.xscroll;e.xscrollConfig=i.userConfig}return e.isY=!("y"!=t.zoomType),e._=e.isY?{top:"top",height:"height",width:"width",offsetTop:"offsetTop"}:{top:"left",height:"width",width:"height",offsetTop:"offsetLeft"},e.renderTo=s.getNode(t.renderTo),e},render:function(){var e=this,t=e.xscroll;e.infinite=t.getPlugin("infinite");for(var i=e.originalFixedElements=e.getFixedElements(),s=0,n=i.length;n>s;s++)e.renderFixedElement(i[s],s);return e},getFixedElements:function(){var e=this,t=e.infinite,i=e.userConfig;if(t){var n=[];for(var o in t.__serializedData){var r=t.__serializedData[o];r&&r.style&&"fixed"==r.style.position&&n.push(r)}return n}return s.getNodes(i.fixedElements,e.content)},renderFixedElement:function(e,t){var i=this,n=!0,o=i._,r=i.xscroll,l=(i.userConfig,i.xscrollConfig),f=l.useOriginScroll,d=i.infinite;if(!i.fixedElements[t])if(n=!1,f)e.style.position="fixed",e.style.display="block";else{var a=document.createElement("div");d?(a.setAttribute("style",s.stringifyStyle(s.mix(e.style,{display:"block",width:"100%"}))),a.style[o.top]=(e.style[o.top]>=0?e.style[o.top]:e._top)+"px",e.style[o.height]&&(a.style[o.height]=e.style[o.height]+"px"),d.userConfig.renderHook.call(i,a,e)):(a.style.display="block",a.style.position="absolute",a.style.width="100%",a.innerHTML=e.innerHTML,a.className=e.className,a.setAttribute("style",e.getAttribute("style")),a.style[o.top]=e[o.offsetTop]+"px",e.style.display="none"),r.renderTo.appendChild(a),i.fixedElements.push(a)}r.trigger("fixedchange",{fixedIndex:t,fixedElement:f?e:a,originalFixedElement:e,isRender:n})},destroy:function(){var e=this;e.fixedElements=void 0}}),"object"==typeof i&&i.exports?void(i.exports=o):o});