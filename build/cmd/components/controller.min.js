define(function(o,n,t){var e=o("../util"),i=o("../base"),r=function(o){r.superclass.constructor.call(this,o),this.userConfig=e.mix({},o),this.init()};return e.extend(r,i,{init:function(){var o=this;o.xscroll=o.userConfig.xscroll},add:function(o,n){var t=this;return n=e.extend({captureBounce:!1,stopPropagation:!0},n),t.__scrolls||(t.__scrolls={}),o.guid&&!t.__scrolls[o.guid]?(o.parentscroll=t.xscroll,t._bind(o),t.__scrolls[o.guid]=o):void 0},remove:function(o){var n=this;if(o&&o.guid){var t=n.__scrolls[o.guid];t&&(delete t.parentscroll,n._unbind(o),delete t)}},get:function(o){return o?this.__scrolls[o]:this.__scrolls},_unbind:function(){},_bind:function(o){var n=this,t=n.xscroll;t.renderTo.addEventListener("touchstart",function(){t._resetLockConfig()}),t.renderTo.addEventListener("touchend",function(){t._resetLockConfig()}),o.renderTo.addEventListener("touchstart",function(){o._resetLockConfig()}),o.renderTo.addEventListener("touchend",function(){o._resetLockConfig()}),o.on("panstart",function(n){if(!o.userConfig.lockY&&!t.userConfig.lockY){if(o.isBoundryOut())return void(t.userConfig.lockY=!0);16==n.direction&&o.getBoundryOutTop()>=0?o.userConfig.lockY=!0:8==n.direction&&o.getBoundryOutTop()>=0&&(t.userConfig.lockY=!0),8==n.direction&&o.getBoundryOutBottom()>=0?o.userConfig.lockY=!0:16==n.direction&&o.getBoundryOutBottom()>=0&&(t.userConfig.lockY=!0),o.getBoundryOutTop()<0&&o.getBoundryOutBottom()<0&&(t.userConfig.lockY=!0)}if(!o.userConfig.lockX&&!t.userConfig.lockX){if(o.isBoundryOut())return void(t.userConfig.lockX=!0);4==n.direction&&o.getBoundryOutLeft()>=0?o.userConfig.lockX=!0:2==n.direction&&o.getBoundryOutLeft()>=0&&(t.userConfig.lockX=!0),2==n.direction&&o.getBoundryOutRight()>=0?o.userConfig.lockX=!0:4==n.direction&&o.getBoundryOutRight()>=0&&(t.userConfig.lockX=!0),o.getBoundryOutLeft()<0&&o.getBoundryOutRight()<0&&(t.userConfig.lockX=!0)}!o.userConfig.lockX&&t.userConfig.lockX&&(2==n.direction||4==n.direction?t.userConfig.lockY=!0:o.userConfig.lockX=!0),!o.userConfig.lockY&&t.userConfig.lockY&&(8==n.direction||16==n.direction?t.userConfig.lockX=!0:o.userConfig.lockY=!0)})}}),"object"==typeof t&&t.exports?void(t.exports=r):r});