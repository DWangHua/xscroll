define(function(i,n,u){"use strict";var t=i("./util"),p=i("./events"),l=function(){};return t.mix(l.prototype,p),t.mix(l.prototype,{plug:function(i){var n=this;if(i&&i.pluginId){n.__plugins||(n.__plugins=[]);var u=n.getPlugin(i.pluginId);return u&&n.unplug(i.pluginId),i.pluginInitializer(n),n.__plugins.push(i),n}},unplug:function(i){var n=this;if(i){var u="string"==typeof i?n.getPlugin(i):i;u.pluginDestructor(n);for(var t in n.__plugins)if(n.__plugins[t]==u)return n.__plugins.splice(t,1)}},getPlugin:function(i){var n=this,u=[];for(var t in n.__plugins)n.__plugins[t]&&n.__plugins[t].pluginId==i&&u.push(n.__plugins[t]);return u.length>1?u:u[0]||null}}),"object"==typeof u&&u.exports?void(u.exports=l):l});