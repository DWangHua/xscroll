define(function(t,e,n){"use strict";function r(t){r.superclass.constructor.call(this),this.userConfig=t,this.init()}{var i=t("./util"),o=t("./base"),c=(t("./animate"),t("./boundry")),s=t("./hammer"),u=500,l="ease",a=.1;i.prefixStyle("transform"),i.prefixStyle("transition"),i.vendor?["-",i.vendor,"-transform"].join(""):"transform"}return r.Util=i,r.Plugin={},i.extend(r,o,{version:"3.0.0",init:function(){var t=this,e={preventDefault:!0,bounce:!0,boundryCheck:!0,useTransition:!0,gpuAcceleration:!0,BOUNDRY_CHECK_EASING:l,BOUNDRY_CHECK_DURATION:u,BOUNDRY_CHECK_ACCELERATION:a,clsPrefix:"xs-",useOriginScroll:!1,zoomType:"y",indicatorInsets:{top:3,bottom:3,left:3,right:3,width:3,spacing:5}};t.guid=i.guid(),t.renderTo=t.userConfig.renderTo.nodeType?t.userConfig.renderTo:document.querySelector(t.userConfig.renderTo),t.__timers={};var n=JSON.parse(t.renderTo.getAttribute("xs-cfg")),r=t.userConfig=i.mix(i.mix(e,n),t.userConfig);return t.containerClsName=r.clsPrefix+"container",t.contentClsName=r.clsPrefix+"content",t.container=t.renderTo.querySelector("."+t.containerClsName),t.content=t.renderTo.querySelector("."+t.contentClsName),t.boundry=new c,t.boundry.refresh(),t},destroy:function(){var t=this;t._unBindEvt()},_initContainer:function(){},enableGPUAcceleration:function(){return this.userConfig.gpuAcceleration=!0,this},disableGPUAcceleration:function(){return this.userConfig.gpuAcceleration=!1,this},getScrollPos:function(){var t=this;return{scrollLeft:t.getScrollLeft(),scrollTop:t.getScrollTop()}},getScrollTop:function(){},getScrollLeft:function(){},scrollTo:function(t,e,n,r,i){var o=this,t=void 0===t||isNaN(t)?-o.getScrollLeft():t,e=void 0===e||isNaN(e)?-o.getScrollTop():e;o.scrollLeft(t,n,r,i),o.scrollTop(e,n,r,i)},scrollBy:function(t,e,n,r,i){this.scrollByX(t,n,r,i),this.scrollByY(e,n,r,i)},scrollLeftBy:function(t,e,n,r){this.scrollLeft(Number(t)+Number(this.getScrollLeft()),e,n,r)},scrollTopBy:function(t,e,n,r){this.scrollTop(Number(t)+Number(this.getScrollTop()),e,n,r)},scrollLeft:function(){},scrollTop:function(){},resetSize:function(){var t=this,e=t.userConfig,n=getComputedStyle(t.renderTo),r=(t.width=(e.width||t.renderTo.offsetWidth)-i.px2Num(n["padding-left"])-i.px2Num(n["padding-right"]),t.height=(e.height||t.renderTo.offsetHeight)-i.px2Num(n["padding-top"])-i.px2Num(n["padding-bottom"]),e.containerWidth||t.content.offsetWidth),o=e.containerHeight||t.content.offsetHeight;return t.containerWidth=r<t.width?t.width:r,t.containerHeight=o<t.height?t.height:o,t.boundry.refresh({width:t.width,height:t.height}),t},render:function(){var t=this;return t.resetSize(),t.trigger("afterrender",{type:"afterrender"}),t._bindEvt(),t.initTouchAction(),t},initTouchAction:function(){var t=this,e="auto";return!t.userConfig.lockX&&t.userConfig.lockY?e="pan-y":!t.userConfig.lockY&&t.userConfig.lockX?e="pan-x":t.userConfig.lockX&&t.userConfig.lockY&&(e="none"),t.mc.set({touchAction:e}),t},_triggerClick:function(t){var e=t.target;if(!/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e.dispatchEvent(n)}},boundryCheck:function(){return this},boundryCheckX:function(){return this},boundryCheckY:function(){return this},_bindEvt:function(){var t=this;if(!t.___isEvtBind){t.___isEvtBind=!0;{var e=t.mc=new s.Manager(t.renderTo),n=new s.Tap,r=new s.Pan;new s.Pinch}e.add([n,r]),t.mc.on("panstart pan panend pancancel pinchstart pinchmove pinchend pinchcancel pinchin pinchout",function(e){t.trigger(e.type,e)});var i=["touchstart","touchmove","touchend","touchcancel"];for(var o in i)t.renderTo.addEventListener(i[o],function(e){t.trigger(e.type,e)});return t.mc.on("tap",function(e){1==e.tapCount?(e.type="tap",t.trigger(e.type,e)):2==e.tapCount&&(e.type="doubletap",t.trigger("doubletap",e))}),t}},_unBindEvt:function(){var t=this;t.mc&&t.mc.destroy()},_resetLockConfig:function(){},stop:function(){}}),"object"==typeof n&&n.exports?void(n.exports=r):r});